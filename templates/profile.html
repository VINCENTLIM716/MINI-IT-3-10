{% extends 'base.html' %}

{% block content %}
<div class="profile-container">
    <div class="profile-header">
        <img src="{{ url_for('static', filename='avatars/' + (user.avatar if user.avatar else 'default_avatar.png')) }}" alt="Avatar" class="avatar" width="120" height="120">
        <div class="profile-info">
            <h1>{{ user.name }}</h1>
            <p><i class="fas fa-birthday-cake"></i> Birthday: {{ user.birthday }}</p>
            <p><i class="fas fa-hourglass-half"></i> Age: {{ user.age }}</p>
            <p><i class="fas fa-user"></i> About Me: {{ user.description }}</p>
        </div>
    </div>

    <hr>

    <div class="profile-section">
        <h2><i class="fas fa-list-check"></i> Habit Overview</h2>
        <ul>
            <li><strong>Total Habits:</strong> {{ total_habits }}</li>
            <li><strong>Completed Streak:</strong> {{ max_streak }} days</li>
            <li><strong>Current Level:</strong> {{ user.level }}</li>
        </ul>
    </div>

    <div class="profile-section">
        <h2><i class="fas fa-medal"></i> Badges</h2>
        <div class="badges">
            {% for badge in user.badges %}
                <span class="badge">{{ badge }}</span>
            {% else %}
                <p>No badges earned yet.</p>
            {% endfor %}
        </div>
    </div>

    <div class="profile-actions">
        <a href="{{ url_for('edit_profile') }}" class="edit-button"><i class="fas fa-edit"></i> Edit Profile</a>
        <a href="{{ url_for('habits') }}" class="edit-button"><i class="fas fa-dumbbell"></i> View Habits</a>
    </div>
</div>

{% endblock %}
