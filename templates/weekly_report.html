{% extends 'base.html' %}

{% block content %}
<style>
  .stats-title {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #333;
    margin-bottom: 1rem;
    text-align: center;
  }

  .report-summary {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #555;
    max-width: 600px;
    margin: 0 auto 2rem auto;
    padding: 1rem;
    background: #f9f9f9;
    border-radius: 8px;
    box-shadow: 0 0 8px rgba(0,0,0,0.05);
  }

  table {
    border-collapse: separate; 
    border-spacing: 0 10px; 
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: #333;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
  }

  thead tr {
    background-color: #4CAF50;
    color: white;
    font-weight: 600;
    border-radius: 8px;
  }

  thead th {
    padding: 12px 15px;
    text-align: left;
  }

  tbody tr {
    background-color: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    transition: background-color 0.3s ease;
  }

  tbody tr:hover {
    background-color: #e8f5e9; 
  }

  tbody td {
    padding: 12px 15px;
    text-align: center;
  }

  tbody td:first-child {
    text-align: left;
  }
</style>

<h1 class="stats-title">ðŸ“… Weekly Habit Report</h1>

<div class="report-summary" style="margin-bottom: 20px;">
    <p><strong>Total Habits:</strong> {{ report.total_habits }}</p>
    <p><strong>Total Habit Checkin:</strong> {{ report.total_completed }}</p>
    <p><strong>Average Completion Rate:</strong> {{ report.avg_completion_rate }}%</p>

    {% if report.total_habits == 0 %}
        <p>You don't have any habits yet. Start creating some!</p>
    {% endif %}
</div>

<table>
    <thead>
        <tr>
            <th>Day</th>
            <th>Habits Completed</th>
        </tr>
    </thead>
    <tbody>
        {% for day, count in report.daily_data %}
        <tr>
            <td>{{ day }}</td>
            <td>{{ count }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}
